@using Shared.Models
@using Client.Models

<div class="profile-card">
    <!-- Header with gradient background -->
    <div class="profile-header">
        <div class="profile-header-overlay"></div>
    </div>
    
    <!-- Profile section -->
    <div class="profile-section">
        <!-- Profile image -->
        <div class="profile-image-container">
            <div class="profile-image-wrapper">
                <img src="@(string.IsNullOrEmpty(User?.ProfileImageUrl) ? "https://via.placeholder.com/120x120/6366f1/ffffff?text=👤" : User.ProfileImageUrl)" 
                     alt="@User?.Name's profile picture" 
                     class="profile-image" />
                <div class="online-indicator">
                    <span class="online-icon">✓</span>
                </div>
            </div>
        </div>
        
        <!-- User info -->
        <div class="user-info">
            <h2 class="user-name">@User?.Name</h2>
            <p class="user-bio">@User?.Bio</p>
            
            <!-- Stats -->
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-value projects">@(User?.ProjectCount ?? 0)</div>
                    <div class="stat-label">Projects</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value skills">@(User?.SkillCount ?? 0)</div>
                    <div class="stat-label">Skills</div>
                </div>
            </div>
            
            <!-- Action buttons -->
            <div class="action-buttons">
                <button @onclick="() => OnViewSkills.InvokeAsync(User?.Id ?? 0)" 
                        class="action-button primary">
                    <span class="button-icon">💡</span>
                    View Full Skills (@(User?.SkillCount ?? 0))
                </button>
                
                <button @onclick="() => OnViewProjects.InvokeAsync(User?.Id ?? 0)" 
                        class="action-button secondary">
                    <span class="button-icon">📁</span>
                    View Full Projects (@(User?.ProjectCount ?? 0))
                </button>
                
                <button @onclick="() => OnContact.InvokeAsync(User)" 
                        class="action-button tertiary">
                    <span class="button-icon">📧</span>
                    Contact Developer
                </button>
            </div>
        </div>
    </div>
    
    <!-- Quick preview section -->
    <div class="quick-preview-section">
        <div class="quick-preview-card">
            <h3 class="quick-preview-title">
                <span class="quick-preview-icon">ℹ️</span>
                Quick Overview
            </h3>
            <div class="quick-preview-stats">
                <span>@(User?.ProjectCount ?? 0) Projects Available</span>
                <span>@(User?.SkillCount ?? 0) Skills Listed</span>
            </div>
            <p class="quick-preview-description">
                Click the buttons above to explore detailed information about this developer's work and expertise.
            </p>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public PortfolioUserSummary? User { get; set; }
    
    [Parameter]
    public EventCallback<int> OnViewSkills { get; set; }
    
    [Parameter]
    public EventCallback<int> OnViewProjects { get; set; }
    
    [Parameter]
    public EventCallback<PortfolioUserSummary> OnContact { get; set; }
}
